(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{736:function(t,e,s){"use strict";s.r(e);var n=s(68),r=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("在windows下执行"),s("code",[t._v("gradlew.bat build")]),t._v("发生异常，如下：\n"),s("img",{attrs:{src:"http://img.hb.aicdn.com/6257b1a43c17c6eba97c52034c6f398c459788305765-exykoC_fw658",alt:"image"}})]),t._v(" "),s("p",[t._v("原因是执行gradle编译时，没有生成"),s("code",[t._v("xxx-schema.zip")]),t._v("文件。")]),t._v(" "),s("p",[t._v("通过修改task schemaZip,将文件路径分符由Unix系统的"),s("code",[t._v("/")]),t._v("修改为windows系统的"),s("code",[t._v("\\\\")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('task schemaZip(type: Zip) {\n\tgroup = "Distribution"\n\tbaseName = "spring-framework"\n\tclassifier = "schema"\n\tdescription = "Builds -${classifier} archive containing all " +\n\t\t\t"XSDs for deployment at http://springframework.org/schema."\n\tduplicatesStrategy \'exclude\'\n\tmoduleProjects.each { subproject ->\n\t\tdef Properties schemas = new Properties();\n\n\t\tsubproject.sourceSets.main.resources.find {\n\t\t\tit.path.endsWith("META-INF\\\\spring.schemas")\n\t\t}?.withInputStream { schemas.load(it) }\n\n\t\tfor (def key : schemas.keySet()) {\n\t\t\tdef shortName = key.replaceAll(/http.*schema.(.*).spring-.*/, \'$1\')\n\t\t\tassert shortName != key\n\t\t\tFile xsdFile = subproject.sourceSets.main.resources.find {\n\t\t\t\tit.path.endsWith(schemas.get(key).replaceAll(\'\\\\/\', \'\\\\\\\\\'))\n\t\t\t}\n\t\t\tassert xsdFile != null\n\t\t\tinto (shortName) {\n\t\t\t\tfrom xsdFile.path\n\t\t\t}\n\t\t}\n\t}\n}\n')])])]),s("blockquote",[s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/34916981/build-spring-framework-source-code-encounter-an-error",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考stackoverflow"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);