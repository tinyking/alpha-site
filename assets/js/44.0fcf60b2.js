(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{706:function(a,t,e){"use strict";e.r(t);var s=e(68),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[a._v("#")]),a._v(" 背景")]),a._v(" "),e("p",[a._v("JavaScript是一种客户端脚本语言，Web工程都会用到它，这份指南列出了编写JavaScript时需要遵守的规则。")]),a._v(" "),e("h2",{attrs:{id:"javascript语言规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#javascript语言规范"}},[a._v("#")]),a._v(" JavaScript语言规范")]),a._v(" "),e("h3",{attrs:{id:"变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[a._v("#")]),a._v(" 变量")]),a._v(" "),e("p",[a._v("声明变量必须加上var\n关键字:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var a1 = 1;\nvar b1 = 11;\n")])])]),e("p",[a._v("当你没有写var\n，变量就会暴露在全局上下文中，这样很可能会和现有的变量冲突。另外，如果没有加上，很难明确该变量的作用域是什么，变量很可能在局部作用域中，很容易泄漏到Document或者Window中，所以务必用var\n变量。")]),a._v(" "),e("h3",{attrs:{id:"常量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常量"}},[a._v("#")]),a._v(" 常量")]),a._v(" "),e("p",[a._v("常量的形式如："),e("code",[a._v("NAMES_LIKE_THIS")]),a._v("，即使用大写字符，并用下划线分割，你也可用"),e("code",[a._v("@const")]),a._v("标记来指明它是一个常量，但请不要使用"),e("code",[a._v("const")]),a._v("关键字。\n对于基本类型的常量，只需要转换命名：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("/**\n * The number of seconds of minute.\n * @type {number}\n */\neflag.example.SECONDES_IN_A_MINUTE = 60;\n")])])]),e("p",[a._v("对于非基本类型，使用"),e("code",[a._v("@const")]),a._v("\n标记：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("/**\n * The number of seconds in each of the given units.\n * @type {Object.<number>}\n * @const\n */\neflag.example.SECONDS_TABLE = {minute: 60,hour: 60 * 60,day: 60 * 60 * 24}\n")])])]),e("p",[a._v("至于关键字"),e("code",[a._v("const")]),a._v("，因为IE不能识别，所以不要使用。")]),a._v(" "),e("h3",{attrs:{id:"分号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分号"}},[a._v("#")]),a._v(" 分号")]),a._v(" "),e("p",[a._v("总是使用分号。 如果仅依靠语句间的隐式分割，有时会很麻烦，使用分号，你自己更能清楚那里是语句的起止。\n行末分号：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var foo = 1,bar = 2,baz = 3;\nvar obj = {foo: 1,bar: 2,baz: 3};\n")])])]),e("h3",{attrs:{id:"单引号-和双引号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单引号-和双引号"}},[a._v("#")]),a._v(" 单引号("),e("code",[a._v("''")]),a._v(")和双引号("),e("code",[a._v('""')]),a._v(")")]),a._v(" "),e("p",[a._v("由于JavaScript对于单引号和双引号都可以识别为字符串，但为了统一规范，所以在JavaScript中字符串的定义要求使用单引号：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var val = 'a';\n")])])]),e("p",[a._v("同样，html中属性使用的是双引号：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<input type="text">\n')])])]),e("p",[a._v("在JavaScript中动态生成html标签时：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var _input = '<input type=\"text\">';\n")])])]),e("h3",{attrs:{id:"空格"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#空格"}},[a._v("#")]),a._v(" 空格")]),a._v(" "),e("p",[a._v("参数和括号间五空格：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("function fn(arg1, arg2){}\n")])])]),e("p",[a._v("冒号后面有空格")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("{foo: 1,bar: 2,baz: 3}\n")])])]),e("p",[a._v("条件语句有空格")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("if (true) {}\nwhile (true) {}\nswitch(v){}\n")])])]),e("h3",{attrs:{id:"tips-and-tricks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tips-and-tricks"}},[a._v("#")]),a._v(" Tips and Tricks")]),a._v(" "),e("h3",{attrs:{id:"true和false布尔表达式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#true和false布尔表达式"}},[a._v("#")]),a._v(" True和False布尔表达式")]),a._v(" "),e("p",[a._v("下面的布尔表达式都会返回"),e("code",[a._v("false")]),a._v("：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("null\nundefined\n''\n空字符串\n0\n")])])]),e("p",[a._v("数字"),e("code",[a._v("0")]),a._v(" 但小心下面的，可都返回"),e("code",[a._v("true")]),a._v("：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("'0'\n字符串0\n[]\n空数组\n{}\n空对象\n")])])]),e("p",[a._v("如果你想检查字符串是否为"),e("code",[a._v("null")]),a._v("或"),e("code",[a._v("空")]),a._v("：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("if (y != null && y != '') {}\n")])])]),e("p",[a._v("写成这样会更好：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("if (y) {}\n")])])]),e("h3",{attrs:{id:"条件（三元）操作符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#条件（三元）操作符"}},[a._v("#")]),a._v(" 条件（三元）操作符("),e("code",[a._v("?:")]),a._v(")")]),a._v(" "),e("p",[a._v("三元操作符用于替代下面的代码：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("if (val != 0) {\n  return foo();\n} else {\n  return bar();\n}\n")])])]),e("p",[a._v("你可以写成：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("return val ? foo() : bar();\n")])])]),e("p",[a._v("在生成HTML代码时也是很有用的：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var html = '<input type=\"checkbox\"' + (isChecked ? ' checked' : '')+ (isEnabled ? '' : ' disabled')+ ' name=\"foo\">';\n")])])]),e("h3",{attrs:{id:"和"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#和"}},[a._v("#")]),a._v(" "),e("code",[a._v("&&")]),a._v("和"),e("code",[a._v("||")])]),a._v(" "),e("p",[a._v("二元布尔操作符是可短路的，只有在必要的时候才会计算到最后一项。 "),e("code",[a._v("||")]),a._v("被称作为"),e("code",[a._v("default")]),a._v("操作符，因为可以这样：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("/**\n * @param {*=} opt_win\n */\nfunction foo(opt_win) {\n  var win;\n  if (opt_win) {\n    win = opt_win;\n  } else {\n    win = window;\n  }\n// ...\n}\n")])])]),e("p",[a._v("你可以使用它来简化上面的代码：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("/**\n * @param {*=} opt_win\n */\nfunction foo(opt_win) {\n  var win = opt_win || window;\n  // ...\n}\n")])])]),e("h3",{attrs:{id:"使用join-来创建字符串"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用join-来创建字符串"}},[a._v("#")]),a._v(" 使用"),e("code",[a._v("join()")]),a._v("来创建字符串")]),a._v(" "),e("p",[a._v("通常是这样使用的：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("function listHtml(items) {\n  var html = '<div class=\"foo\"';\n  for (var i = 0; i < items.length; i++) {\n    if (i > 0) {\n      html += ',';\n    }\n    html += itemHtml(items[i]);\n  }\n  html += '</div>';\n  return html;\n}\n")])])]),e("p",[a._v("但这样在IE下非常慢，可以用下面的方式：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("function listHtml(items) {\n  var html = [];\n  for (var i = 0; i < items.length; i++) {\n    html[i] = itemHtml(items[i]);\n  }\n  return '<div class=\"foo\">' + html.join(', ') + '</div>';\n}\n")])])]),e("p",[a._v("你也可以使用数组作为字符串构造器，然后通过"),e("code",[a._v("myArray.join('')")]),a._v("\n转换成字符串，不过由于赋值操作快于数组的"),e("code",[a._v("push()")]),a._v("，所以尽量使用复制操作。")])])}),[],!1,null,null,null);t.default=n.exports}}]);