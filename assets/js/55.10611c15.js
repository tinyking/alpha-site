(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{729:function(a,t,n){"use strict";n.r(t);var e=n(68),s=Object(e.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" squid\n")])])]),n("p",[a._v("安装"),n("code",[a._v("Mysql")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("yum install perl-ExtUtils-CBuilder perl-ExtUtils-MakeMaker -y\n")])])]),n("p",[a._v("安装"),n("code",[a._v("DBI-1.636.tar.gz")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("wget http://search.cpan.org/CPAN/authors/id/T/TI/TIMB/DBI-1.636.tar.gz\ntar -xvf DBI-1.636.tar.gz \n\ncd DBI-1.636\n\nmake \nmake install\n")])])]),n("p",[a._v("安装 "),n("code",[a._v("DBD-mysql-4.039.tar.gz")]),a._v(" 时，需要设置")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("wget http://www.cpan.org/authors/id/C/CA/CAPTTOFU/DBD-mysql-4.039.tar.gz\ntar -xvf DBD-mysql-4.039.tar.gz \n\ncd DBD-mysql-4.039\n\nperl Makefile.PL --mysql_config=/usr/bin/mysql_config\nmake\nmake install\n")])])]),n("p",[n("em",[a._v("配置文件 "),n("code",[a._v("squid.conf")])])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('#auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid/passwd\nauth_param basic program /usr/lib64/squid/basic_db_auth --user root --password mysql2016 --plaintext --persist\nauth_param basic children 5\nauth_param basic realm Squid proxy-caching web server\nauth_param basic credentialsttl 2 hours\nacl normal proxy_auth REQUIRED\nhttp_access allow normal\n\n#\n# Recommended minimum configuration:\n#\n\n# Example rule allowing access from your local networks.\n# Adapt to list your (internal) IP networks from where browsing\n# should be allowed\nacl localnet src 10.0.0.0/8     # RFC1918 possible internal network\nacl localnet src 172.16.0.0/12  # RFC1918 possible internal network\nacl localnet src 192.168.0.0/16 # RFC1918 possible internal network\nacl localnet src fc00::/7       # RFC 4193 local private network range\nacl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines\n\nacl SSL_ports port 443\nacl Safe_ports port 80          # http\nacl Safe_ports port 21          # ftp\nacl Safe_ports port 443         # https\nacl Safe_ports port 70          # gopher\nacl Safe_ports port 210         # wais\nacl Safe_ports port 1025-65535  # unregistered ports\nacl Safe_ports port 280         # http-mgmt\nacl Safe_ports port 488         # gss-http\nacl Safe_ports port 591         # filemaker\nacl Safe_ports port 777         # multiling http\nacl CONNECT method CONNECT\n\n\n#\n# Recommended minimum Access Permission configuration:\n#\n# Deny requests to certain unsafe ports\nhttp_access deny !Safe_ports\n\n# Deny CONNECT to other than secure SSL ports\nhttp_access deny CONNECT !SSL_ports\n\n# Only allow cachemgr access from localhost\nhttp_access allow localhost manager\nhttp_access deny manager\n\n# We strongly recommend the following be uncommented to protect innocent\n# web applications running on the proxy server who think the only\n# one who can access services on "localhost" is a local user\n#http_access deny to_localhost\n\n#\n# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n#\n\n# Example rule allowing access from your local networks.\n# Adapt localnet in the ACL section to list your (internal) IP networks\n# from where browsing should be allowed\nhttp_access allow localnet\nhttp_access allow localhost\n\n# And finally deny all other access to this proxy\nhttp_access allow all\n\n# Squid normally listens to port 3128\nhttp_port 3128\n\n# Uncomment and adjust the following to add a disk cache directory.\n                                          \n# Uncomment and adjust the following to add a disk cache directory.\n#cache_dir ufs /var/spool/squid 100 16 256\n\n# Leave coredumps in the first cache dir\ncoredump_dir /var/spool/squid\n\n#\n# Add any of your own refresh_pattern entries above these.\n#\nrefresh_pattern ^ftp:           1440    20%     10080\nrefresh_pattern ^gopher:        1440    0%      1440\nrefresh_pattern -i (/cgi-bin/|\\?) 0     0%      0\nrefresh_pattern .               0       20%     4320\n\n#auth_param basic program /usr/lib64/squid/ncsa_auth /etc/squid/passwd\n#auth_param basic children 5        \n#auth_param basic credentialsttl 1 hours    \n#auth_param basic realm my test prosy         \n#acl test123 proxy_auth REQUIRED  \n#http_access allow test123    \n\n#auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid/passwd \n#auth_param basic children 5\n#auth_param basic realm Squid proxy-caching web server\n#auth_param basic credentialsttl 2 hours\n#acl normal proxy_auth REQUIRED\n#http_access allow normal                                      \n')])])])])}),[],!1,null,null,null);t.default=s.exports}}]);